# 파일 권한의 세계 – 누가, 무엇을, 어디까지 할 수 있을까?

## 1. 지금 이 파일, 누가 쓸 수 있을까요?

터미널에서 `ls -l` 명령어로 파일 목록을 보면 이런 줄이 나옵니다:

```
-rw-r--r-- 1 user1 user3  153 Dec 16 13:31 index.html
```

이 줄 하나로, 리눅스는 다음과 같이 말하고 있는 거예요:

- **이건 일반 파일이고**,
- **소유자는 user1**,
- **그 파일은 user3 그룹에 속해 있으며**,
- **누가 이 파일을 읽고, 쓰고, 실행할 수 있는지가 정해져 있다.**

## 2. 권한 구조 해석하기 – `-rw-r--r--`

```bash
-rw-r--r--
```

이걸 세 부분으로 나눠보겠습니다.

| 항목  | 의미                                                  |
| ----- | ----------------------------------------------------- |
| `rw-` | 소유자(user1)의 권한 → 읽기(r), 쓰기(w), 실행(x 없음) |
| `r--` | 그룹(user3)의 권한 → 읽기만 가능                      |
| `r--` | 기타 사용자 권한 → 읽기만 가능                        |

즉, **user1은 이 파일을 수정할 수 있지만**,
user3 그룹이나 다른 사용자들은 **읽기만 가능**합니다.

## 3. 제일 앞에 붙은 기호는?

```bash
-rw-r--r--
```

여기서 맨 앞의 `-`는 **파일의 타입(type)**을 의미합니다.

| 기호 | 의미                            |
| ---- | ------------------------------- |
| `-`  | 일반 파일 (normal file)         |
| `d`  | 디렉토리 (directory)            |
| `l`  | 심볼릭 링크 (shortcut 비슷)     |
| `p`  | 파이프(pipe) – 프로세스 간 통신 |
| `s`  | 소켓(socket) – 네트워크 통신    |
| `c`  | 캐릭터 장치 (character device)  |
| `b`  | 블록 장치 (block device)        |

예를 들어 디렉토리는 이렇게 표시됩니다:

```bash
drwxr-xr-x
```

## 4. 권한 숫자로 바꾸면? – `r=4`, `w=2`, `x=1`

리눅스는 권한을 **숫자**로도 표현합니다.

- `r` → 4 (read)
- `w` → 2 (write)
- `x` → 1 (execute) 폴더 및 파일 안으로 접근할 수 있는 권한

조합해서 숫자로 바꿔보면:

- `rw-` → 4 + 2 = **6**
- `r--` → 4
- `r--` → 4

즉, `-rw-r--r--`은 **644** 권한과 같습니다.

## 5. 특정 파일 및 폴더에 접근 권한 바꾸기 – `chmod`

이제 권한을 바꿔봅시다.

#### 예시 1: 누구나 읽고, 쓰고, 실행 가능하게

```bash
sudo chmod 777 index.html
```

- `7` = `4+2+1` = `rwx`
- `777` → 모든 사용자에게 **rwx 권한** 부여

#### 예시 2: 읽기(r) + 실행(x)만 허용 (쓰기 금지)

```bash
chmod 555 index.html
```

- `5` = `4+1` = `r-x`
- 소유자/그룹/기타 모두 **읽고 실행만 가능**, 쓰기는 불가

※ `sudo`는 관리자 권한이 필요한 경우에만 사용합니다.

## 6. 특정 그룹에게 관리자에게 권한을 주고 싶다면? – `/etc/sudoers`

때로는 특정 그룹에게도 **관리자 명령어(sudo)** 를 쓸 수 있도록
**sudo 권한을 부여**해야 할 때가 있습니다.

이럴 땐 `/etc/sudoers` 파일을 수정합니다.
단, 매우 중요한 시스템 파일이므로 항상 **조심해서** 다뤄야 합니다.

```bash
sudo vi /etc/sudoers
```

아래처럼 한 줄을 추가해 줍니다:

```
user1 ALL=(ALL:ALL) ALL
```

이제 `user1`도 `sudo`를 사용할 수 있게 됩니다.

※ 기존의 `root` 계정 설정은 그대로 두고, 줄만 추가합니다:

```
root   ALL=(ALL:ALL) ALL
user1  ALL=(ALL:ALL) ALL
```

## 마무리 정리

우리가 만든 파일이나 디렉토리는
그 안에 담긴 데이터만 중요한 게 아니라,

> **누가 읽고, 누가 쓰고, 누가 실행할 수 있느냐**가 훨씬 중요합니다.

그리고 리눅스는 그것을

> 딱 `rwx` 3개의 문자와 숫자(`chmod 755`)로
> 명확하고 정교하게 관리할 수 있게 만들어졌습니다.