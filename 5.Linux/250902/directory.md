# 우분투

## 디렉토리 구조

윈도우는 루트로 간다면

C드라이브
D드라이브

여기서부터 시작하지만
리눅스 => 우분투는 루트 디렉토리 `/` 하나에서 시작한다.

- mnt: 외부 장치(우분투 기준으로는 Window)나 다른 OS 파일 시스템을 붙여서 접근하는 곳
- bin: 모든 사용자가 공통으로 쓰는 명령어 `ls`, `cp`, `mkdir`, `cat`
- /etc: 우분투 내의 시스템 설정 파일들 모음

    - /etc/passwd: 사용자 계정 정보
    - /etc/hosts: 도메인과 IP를 연결하는 정보
    - /etc/skel: 새 사용자 계정이 생성될 때 기본으로 복사되는 파일들

- /lib: 프로그램이 실행될 때 필요한 `라이브러리 및 커널 모듈`이 들어있는 곳

- /var: 애플리케이션 실행 중에, 데이터를 일시적으로 저장하거나 로그 파일을 저장하는 디렉토리

    - /var/log: 로그 파일 저장 위치

- /media: CD_ROM이나 USB같은 외부 장치를 연결하는 디렉토리

- **/home**: 사용자들의 홈 디렉토리
=> 특정 명령어로 사용자를 생성하면, 해당 사용자의 ID와
동일한 이름의 디렉토리가 자동으로 생성됨

### 오늘 중점적으로 볼 디렉토리

- /home
- /etc

```bash
wnqudgus6656@DESKTOP-N86PKS5:
```

아마 여러분들은

```bash
root@DESKTOP-N86PKS5:~
```

```bash
[사용자이름]@[호스트이름]:[현재디렉토리]
```

사용자이름: 현재 지금 누가 로그인했는지 알려줌.
호스트이름: 현재 사용중인 컴퓨터 이름.
현재디렉토리: 지금 내가 어디에 위치해있는지 알려주는 정보.

`~`: 사용자의 홈 디렉토리를 뜻하는 기호
홈 디렉토리 내부의 wnqudgus6656안에 위치해있음!

## 사용자? 리눅스에서의 사용자

리눅스는 멀티 유저 시스템입니다.
즉, 하나의 운영체제 안에서 여러 명의 사용자가 존재할 수 있고,
각자

- **다른 권한**
- **다른 작업 공간**
- **다른 책임**

을 가질 수 있습니다.

그럼? 리눅스는 어떻게 사용자를 구분할까요?

=> UID(User ID)를 기준으로 구분합니다

```bash
$ id [사용자이름]
$ id root

=>

uid=0(root) gid=0(root) groups=0(root)
```

- UID 0 => `root` 사용자
- UID 1 ~ 999 => 시스템에서 사용하는 내부 계정
- UID 1000 ~ => 우리가 쓰는 일반 사용자 계정 

gid=1002(wnqudgus6656)

gid는 Group ID를 뜻합니다.
여기서도 숫자 1000은 내부적으로 그룹을 구분하는 숫자입니다.
즉, 자기 이름과 동일한 이름의 그룹을 기본으로 가지고 있다.

groups=1002(wnqudgus6656)

이 사용자가 어떤 그룹들에 속해있는지를 보여줍니다.

```bash
$ id -u 사용자이름 # UID 확인
$ id -un 사용자이름 # 사용자 이름만 확인
```

자. 이제 사용자 정보 조회나, 기타 등등에 대해서 알아보았다.

이제, 사용자를 한 번 만들어보자. root는 권한과 책임이 너무 많으니까 ㅎㅎ

## 새로운 사용자 계정 만들기

```bash
adduser 새로운계정이름
```

내 계정 만들었음

/home/wnqudgus1313

디렉토리가 있는지 확인해보자.

디렉토리가 있네용?

```bash
drwxr-x---  2 wnqudgus1313 wnqudgus1313 4096 Sep 2 11:03 wnqudgus1313
```

이게 무엇을 뜻하는거냐?
권한을 제어하려면, 얘를 먼저 알아야한다.

drwxr-x---: 파일 및 폴더의 권한(어디까지 뭐가 되는데?)에 대한 정보
2: 해당 디렉토리 안에 있는 하위 항목 수
(세 번째)wnqudgus1313: **소유자(Owner)**: 이 폴더의 주인
(네 번째)wnqudgus1313: **그룹(Group)**: 이 폴더가 속한 그룹
4096: 해당 디렉토리의 크기(바이트)
Sep 2 11:03: 생성 및 마지막 업데이트 날짜와 시간
(맽 끝)wnqudgus1313: 디렉토리 이름

### 파일 목록에서 특정 항목만 골라내기 - `grep`

`README4.md`라는 파일만 딱 보고싶다!

README4.md라는 단어가 들어간 줄만 필터링

```bash
ls -al | grep README4.md
```

`su`per `u`ser `do`
=> sudo


```bash
usermod -aG sudo wnqudgus6656
usermod [옵션] [그룹이름] [사용자이름]
```

usermod: 사용자 정보 변경
-aG: 기존 그룹은 유지! 하지만 sudo 그룹에만 사용자 추가

만약, -aG를 빼고 그냥 sudo wnqudgus6656을 하겠다!
이건 문법 자체가 틀려서 적용되지 않는다. 아무것도!

```bash
drwxr-x---  3 wnqudgus1234 wnqudgus1234 4096 Sep  2 12:08 wnqudgus1234
```

`d`: directory
`-`: 그 외 파일

`rwx``r-x``---`

r: 읽을 수 있는 권한
w: 쓸 수 있는 권한
x: 폴더에 접근할 수 있는 권한

1: 폴더에 대한 소유자 권한
2: 그룹
3: 그 외

r:4
w:2
x:1

sudo chmod 555 wnqudgus9999

기준

어떤 파일과 폴더에 접근할 때의 권한
어떤 사용자나 그룹이 가지는 권한

`d``rwx``r-x``---`

여기서
`d``rwx``r-x``---`
`rwx``r-x``---`

모든 파일과 폴더들은 자신에 접근할 수 있는 권한을 제어할 수 있고 볼 수도 있다.

d는 디렉토리

`rwx` `rwx` `rwx`

1: 소유자
2: 그룹
3: 그 외에

r = read
w = write
x = excute(폴더에 접근할 수 있는 권한)

r=4
w=2
e=1

644

sudo chmod 750 wnqudgus1234

sudo `chmod` 750 wnqudgus6656

질문: 권한에 대해서는 알겠는데 결국에 제일 중요한건 컴퓨터 하나의 가상머신이게 때문에
사용자라는 개념은 와닿지 않음. 어차피 지금은 가상 머신. 나중에는 우분투를 OS로 사용?
우분투는 서버처럼 공유?

chmod

chown: 해당 파일 또는 폴더의 소유자를 변경
chgrp: 해당 파일 또는 폴더의 그룹을 변경