# 왜 node.js가 필요한가

성능도 괜찮고, 문법도 직관적이다.

그리고, 2008년, 자바스크립트를 많이 사용함

=> node.js 실행 환경

## 정의: node.js란?

20009년 라이언 달(Ryan Dahl)이 처음으로 Node.js를 공개함
크롬의 v8 => 브라우저에서 동작하는 JS엔진인데
이를 브라우저에서 `똑` 분리해서 독립적으로 실행하도록 만든것

=> Node.js
Web APIs / Node APIs

API`s`: Application Programming Interface
=> 애플리케이션이 다른 애플리케이션, 서비스, 혹은 시스템과 소통할 수 있도록 제공되는 설계도

Web APIs : 웹 브라우저나 웹 환경에서 사용할 수 있도록 제공되는 표준화된 API모음

- DOM API : HTML 문서의 구조(트리 형태) => `document.querySelector`
- fetch API : 네트워크 요청을 보내고 응답을 비동기적으로 받는 기능

### Node APIs

브라우저 자바스크립트만으로는 할 수 없는 일들을 대신 해주어야 하는 환경
=> 서버 구성
Node.js In Node APIs 

### 프로그램, 프로세스, 스레드

Node.js는 자스 기반임
앞으로 서버를 만들게 됨
서버는 `웹에서 돌아가는 스크립트` 수준이 아니라
운영체제 위에서 계속 실행되면서, 네트워크 요청받고, 파일읽고, 데이터를 처리하는 무거운 프로그램

즉, node.js를 잘이해했다
=> 이프로그램이 운영체제 위에서 어떻게 실행되고 있는가?

#### 프로그램
실행 할 수 있지만, 아직 실행하지 않은 것
#### 프로세스
실행 중인 프로그램
#### 스레드
프로세스 안에서 실제로 일하는 흐름

# 비동기 
콜스택 백그라운드
이벤트큐

Node.js는 싱글 스레드이다. `이론적으로`

## 

작업 하나 끝 => 다음 작업 => 다음 작업 
=> 전통적인 싱글 스레드

### 여러 요청이 오면?

node.js는 이 여러요청(외부 네트워크 요청, 그리고 응답받는 구조)에
대해서 이벤트 루프와 논 블로킹 I/O모델을 채택함

논 블로킹 I/O: 작업을 맡기고 다른 일을 계속함. => 끝나면 결과만 받아서 실행
=> 이에 대한 증거인 함수 => readFile함수

## 이벤트 루프의 사전적 정의

`이벤트`

`루프`

### 이벤트 
프로그램의 외부 또는 내부에서 발생한 어떤 `신호`나 `작업 요청`을 말함
- 즉시 실행해야 할 동기 코드 => 콜스택에 바로 쌓였다가 나감
- 완료 후 다시 실행되어야 할 비동기 작업 => 백그라운드 => 이벤트 큐에 들어감

즉, 이벤트 => 동기든 비동기든 어떤 작업을 해야 한다는 실행 요청 자체

### 루프
위 이벤트들이 들어오면, 하나씩 꺼내서 처리하는 반복 구조를 말함

1. 할 일 생김?
2. 실행 할 수 있음?
3. ㅇㅋ 다음 할 일

따라서 이벤트 루프 : 이벤트가 생겼는지 계속 루프(반복)하며 확인하고 가능하면 실행해주는 구조

## 백, 포그라운드

백그라운드: 눈에는 보이지 않지만, 뒤에서 계속 돌아가는 실행 방식
포그라운드: 사용자가 직접 눈 앞에서 보고 조작하는 실행 방식 (터미널, 명령어, 출력 등)

Node.js의 이러한 구조는 이벤트 기반 비동기 처리 모델
논 블로킹I/O

## 프로세스 실행/종료
진행중인 프로세스 확인 방법 : ps aux 
백그라운드로 실행 : node setInterval.js &  *&이 붙으면 백그라운드로 실행 
백그라운드 프로세스 강제 종료 : kill -9 [PID]


